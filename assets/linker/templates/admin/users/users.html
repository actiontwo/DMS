<div class="page-header">
    <h1>List Users</h1>
</div>
<table class="table table-striped table-hover">
    <thead>
    <tr>
        <th>No</th>
        <th><input type="checkbox" id="checkAllUser" /></th>
        <th>First Name</th>
        <th>Last Name</th>
        <th>Email</th>
        <th>Active</th>
        <th>Day join</th>
        <th>Phone</th>
        <th>Balance</th>
        <th>Role</th>
    </tr>
    </thead>
    <tbody>
    {{#each models}}
    {{#with attributes}}
    <tr data-id="{{id}}">

        <td>{{math @index '+' 1}}</td>
        <td><input type="checkbox" class="checkUser" /></td>
        <td>{{firstname}}</td>
        <td>{{lastname}}</td>
        <td class="emailUser">{{email}}</td>
        <td>
            <input class="userActiveField" type="checkbox"
            {{#if active}}
            checked
            {{/if}} />
        </td>
        <td>{{join_date}}</td>
        <td>{{phone}}</td>
        <td>{{balance}}</td>
        <td>
            <select class="userRoleField">
                <option>user</option>
                <option
                {{#role role}}{{/role}}>
                admin
                </option>
            </select>
        </td>
    </tr>
    {{/with}}
    {{/each}}
    </tbody>
</table>

<div class="btn-group">
    <a class="btn btn-primary" id="saveUser">Save</a>
    <a class="btn btn-primary"
       href="#model-container-sendEmail"
       role="button"
       data-toggle="modal">Send email</a>
</div>
<p></p>
<div class="alert alert-success" id="save-users-success" style="display: none">
    <a href="#" class="close" data-dismiss="alert">&times;</a>
    <strong>Success!</strong> All users settings have been saved.
</div>
<!--<div class="alert alert-success" id="send-emails-success" style="display: none">-->
    <!--<a href="#" class="close" data-dismiss="alert">&times;</a>-->
    <!--<strong>Success!</strong> Emails have been sent to selected users.-->
<!--</div>-->

<div class="modal fade" id="model-container-sendEmail" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                <h4 class="modal-title">Mail</h4>
            </div>
            <div class="modal-body">
                <fieldset>
                    <textarea class="form-control" name="contentEmailNotification"
                              id="contentEmailNotification" cols="30" rows="10"></textarea>
                </fieldset>
                <br />

                <div class="alert alert-dismissable alert-success alert-sendEmail"
                     style="display:none">
                    <button type="button" class="close" data-dismiss="alert">×</button>
                    <strong>Well done!</strong> <span
                        class="content-alert"></span>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary"
                        id="sendEmaiNotiBalance">Send
                </button>
            </div>
        </div>
    </div>
</div>